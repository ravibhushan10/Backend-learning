To validate anything you write your own logic , otherwise download the package from the npm validator 
To install npm validator: npm i validator
<!-- ********************************************* -->
  throw new Error("Invalid credentials"); this is the best way to send error in both case attackers confuse which one is write or wrong

in both cases wrong email or wrong password you don't send the error like 
Email is doesn't exist/email is wrong
password is wrong

attackers make benifits of this ,,this simply put any email and try to know this email is exist or not,,if this is exist then password is wrong then he try to make combination of password.
They able to guess kon kon si email id exist in database.
<!-- ********************************************* -->
How server identify : if a user login already they requesting to open own chat then how it identify the request is comes is logged user ....

ans-> use Session ID: